To enable formal safety assessment of multi-robot Behavior Trees, we establish a systematic workflow that converts each robotâ€™s BT into an explicit state-machine model and analyzes the resulting combined system for unsafe interactions. Our method begins by algorithmically translating the Behavior Trees for both the UR16e robotic arm and the humanoid robot into finite-state machines representing all possible execution outcomes, including success, failure, and fallback behavior. This method is well-defined, and generalizes to all possible BTs constructed with Sequence and Fallback nodes.

\begin{figure}[H]
    \centering
    
    \begin{subfigure}[t]{0.45\textwidth}
        \centering
        \includegraphics[width=\textwidth]{arm-state-machine.png}
        \caption{State machine for the UR16e robotic arm.}
        \label{fig:ur_fsm}
    \end{subfigure}
    \hspace{0.04\textwidth} % Adjust this if needed
    \begin{subfigure}[t]{0.45\textwidth}
        \centering
        \includegraphics[width=\textwidth]{humanoid-state-machine.png}
        \caption{State machine for the Unitree H1-2 humanoid robot.}
        \label{fig:h1_fsm}
    \end{subfigure}
    
    \caption{State machines for both robots.}
    \label{fig:both_fsms}
\end{figure}

We then compose these state machines to form a product automaton that captures the full range of joint behaviors when the robots operate concurrently.

Because not all modeled outcomes correspond to physically realizable behavior, a human-guided refinement step is performed to identify unsafe and success states and remove impossible transitions based on workspace constraints and task semantics. This change is primarily dictated by tasks from the individual BTs that become fully determined by the task of the other BT. For example, if the humanoid is in state "Arm NOT at Bolt 1" and the arm is in state "Humanoid NOT removing Bolt 2", we know the only possible transition will be "Success, Success".

With this annotated product system, we apply reachability analysis to determine whether any unsafe configurations can be encountered during execution. If unsafe states are reachable, we trace the corresponding paths back to the original Behavior Trees, informing targeted redesign of specific branches. This process is iterative, allowing updates to the BTs to be re-evaluated until all identified unsafe behaviors are eliminated.
